---
title: 'Code Examples'
description: 'NovaCloud EIP API and Integration Code Examples'
icon: 'code'
---

## Next.js API Routes

### Query PostgreSQL Data
```typescript pages/api/customers.ts
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

export default async function handler(req, res) {
  try {
    const customers = await prisma.customer.findMany({
      include: { orders: true }
    });
    res.status(200).json(customers);
  } catch (error) {
    res.status(500).json({ error: 'Failed to fetch' });
  }
}
```

## Neo4j Graph Queries

### Find Relationships
```typescript pages/api/graph.ts
import { driver } from 'neo4j-driver';

const neo4jDriver = driver('bolt://neo4j:7687');

export default async function handler(req, res) {
  const session = neo4jDriver.session();
  try {
    const result = await session.run(
      'MATCH (c:Customer)-[:PLACED]->(o:Order) RETURN c, o'
    );
    res.status(200).json(result.records);
  } finally {
    await session.close();
  }
}
```

## Docker Commands

```bash
# Start containers
docker-compose up -d

# View status
docker-compose ps

# View logs
docker-compose logs -f [service]

# Execute in container
docker-compose exec postgres psql -U novacloud -d novacloud
```

## Troubleshooting Code Issues

<AccordionGroup>
  <Accordion title="Connection Timeout">
    Ensure all containers are running:
    ```bash
    docker-compose ps
    ```
  </Accordion>

  <Accordion title="Type Errors in TypeScript">
    Update Prisma schema:
    ```bash
    npx prisma generate
    ```
  </Accordion>
</AccordionGroup>
